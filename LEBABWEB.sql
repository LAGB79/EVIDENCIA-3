Create database LEBABWEB;
Use LEBABWEB;

Create Table Usuario (
    id INT AUTO_INCREMENT PRIMARY KEY,
    username VARCHAR(50) NOT NULL UNIQUE,
    password VARCHAR(255) NOT NULL,
    rol ENUM('ADMIN', 'OPERADOR') NOT NULL
);

Create Table Productos(
    id INT AUTO_INCREMENT PRIMARY KEY,
    nombre VARCHAR(100) NOT NULL,
    categoria VARCHAR(50) NOT NULL,
    unidad VARCHAR(20) NOT NULL COMMENT ',caja, pz, ml, g.',
    stock INT NOT NULL DEFAULT 0 CHECK (stock >= 0),
    minimo INT NOT NULL DEFAULT 1 CHECK (minimo >= 0),
    costo_unitario DECIMAL(10, 2) NOT NULL DEFAULT 0.00,
    precio_de_venta DECIMAL(10, 2) NOT NULL DEFAULT 0.00
);

Create Table Movimientos (
    id INT AUTO_INCREMENT PRIMARY KEY,
    producto_id INT NOT NULL,
    tipo ENUM('ENTRADA', 'SALIDA') NOT NULL,
    cantidad INT NOT NULL CHECK (cantidad > 0),
    fecha DATETIME NOT NULL,
    responsable_id INT NOT NULL,
    nota TEXT,
    
    FOREIGN KEY (producto_id) REFERENCES Productos(id)
        ON DELETE RESTRICT 
        ON UPDATE CASCADE,
    
    FOREIGN KEY (responsable_id) REFERENCES Usuario(id)
        ON DELETE RESTRICT
        ON UPDATE CASCADE
);

INSERT INTO Usuario (username, password, rol) VALUES 
('Kevin', 'admin123', 'ADMIN'),
('Luis', 'operador123', 'OPERADOR');

INSERT INTO Productos (nombre, categoria, unidad, stock, minimo, costo_unitario, precio_de_venta) VALUES
('ESPONJA FELIZ', 'LIMPIEZA', 'PZA', 50, 10, 8.50, 17.00),
('JABÓN EN POLVO', 'LIMPIEZA', 'KG', 40, 10, 35.00, 70.00),
('LAVALOZA LIQUIDO', 'LIMPIEZA', 'LT', 60, 15, 22.00, 45.00),
('SPRAY AROMATISANTE', 'LIMPIEZA', 'PZA', 35, 8, 55.00, 110.00),
('CLORO LIQUIDO', 'LIMPIEZA', 'LT', 70, 20, 15.00, 30.00),
('ESPONJA CON FIBRA', 'LIMPIEZA', 'PZA', 55, 10, 7.50, 15.00),
('TOALLAS DESINFECTANTES BOTE', 'LIMPIEZA', 'PZA', 45, 10, 65.00, 130.00),
('CREMA PARA MANOS', 'LIMPIEZA', 'PZA', 25, 5, 45.00, 90.00),
('REPUESTO SCOBA', 'LIMPIEZA', 'PZA', 20, 5, 18.00, 36.00),
('LIMPIADOR MULTIUSO LIQUIDO', 'LIMPIEZA', 'LT', 65, 15, 25.00, 50.00),
('HARPIC BAÑOS LIQUIDO', 'LIMPIEZA', 'PZA', 50, 10, 30.00, 60.00),
('TOALLAS DE PAPEL PAQUETE', 'LIMPIEZA', 'PAQ', 80, 20, 45.00, 90.00),
('BOLSAS PARA BASURA TRANSPARENTE', 'LIMPIEZA', 'PAQ', 90, 20, 25.00, 50.00),
('BOLSAS PARA BASURA NEGRA P', 'LIMPIEZA', 'PAQ', 90, 20, 25.00, 50.00),
('TOALLA INTERDOBLADA', 'LIMPIEZA', 'PZA', 100, 25, 5.00, 10.00),
('TOALLA ROLLO EMBARAZADAS', 'LIMPIEZA', 'ROL', 50, 10, 20.00, 40.00),
('TOALLA ROLLO ROJA', 'LIMPIEZA', 'ROL', 50, 10, 20.00, 40.00),
('PAPEL HIGIENICO', 'LIMPIEZA', 'ROL', 75, 15, 15.00, 30.00),
('GUANTES DE LIMPIEZA', 'LIMPIEZA', 'PAR', 40, 8, 15.00, 30.00),
('FOCOS', 'CONSUMO', 'PZA', 20, 5, 25.00, 50.00),
('VASOS', 'CONSUMO', 'PZA', 100, 20, 1.50, 3.00),
('CUCHARAS', 'CONSUMO', 'PZA', 50, 10, 3.00, 6.00),
('CAFE', 'CONSUMO', 'KG', 25, 5, 120.00, 240.00),
('CREMA PARA CAFÉ', 'CONSUMO', 'PZA', 30, 5, 35.00, 70.00),
('AZÚCAR', 'CONSUMO', 'KG', 40, 10, 20.00, 40.00),
('TÉ', 'CONSUMO', 'PZA', 30, 6, 8.00, 16.00),
('GARRAFÓN DE AGUA', 'CONSUMO', 'PZA', 15, 5, 25.00, 50.00),
('SERVILLETAS', 'CONSUMO', 'PAQ', 60, 15, 12.00, 24.00),
('PILAS AA', 'CONSUMO', 'PZA', 40, 8, 15.00, 30.00),
('PAPEL BOND CARTA', 'PAPELERIA', 'PAQ', 50, 10, 55.00, 110.00),
('ETIQUETAS PARA COPA', 'PAPELERIA', 'PZA', 70, 15, 4.00, 8.00),
('CARTUCHOS IMPRESORA', 'PAPELERIA', 'PZA', 5, 2, 250.00, 500.00),
('CINTA CANELA', 'PAPELERIA', 'PZA', 20, 5, 15.00, 30.00),
('ETIQUETAS PARA PRODUCTOS', 'PAPELERIA', 'PZA', 50, 10, 5.00, 10.00),
('PAPEL MANILAR', 'PAPELERIA', 'PZA', 30, 6, 10.00, 20.00),
('ETIQUETA PARA EMPLAYAR', 'PAPELERIA', 'PZA', 40, 8, 7.00, 14.00),
('ACEITE OZONO', 'PRODUCTOS EN VENTA', 'ML', 15, 3, 150.00, 350.00),
('ACEITE DE RICINO', 'PRODUCTOS EN VENTA', 'ML', 25, 5, 75.00, 180.00),
('JABON CARBON ACTIVADO', 'PRODUCTOS EN VENTA', 'PZA', 30, 6, 25.00, 60.00),
('ACEITE UNICOMICOSIS', 'PRODUCTOS EN VENTA', 'ML', 20, 4, 120.00, 290.00),
('ACEITE DE ROMERO', 'PRODUCTOS EN VENTA', 'ML', 20, 4, 90.00, 220.00),
('RHODIOLA', 'PRODUCTOS EN VENTA', 'PZA', 15, 3, 180.00, 450.00),
('VITAMINA C', 'PRODUCTOS EN VENTA', 'PZA', 25, 5, 130.00, 320.00),
('CIABELAC', 'PRODUCTOS EN VENTA', 'PZA', 10, 2, 250.00, 600.00),
('MAGNESIO', 'PRODUCTOS EN VENTA', 'PZA', 15, 3, 110.00, 280.00),
('DETOX', 'PRODUCTOS EN VENTA', 'PZA', 20, 4, 200.00, 500.00),
('CISTERA', 'PRODUCTOS EN VENTA', 'PZA', 15, 3, 120.00, 300.00),
('PLATO COLODIAL', 'PRODUCTOS EN VENTA', 'PAR', 10, 2, 280.00, 650.00),
('BOTELLA PARA PLATA', 'PRODUCTOS EN VENTA', 'PZA', 30, 5, 40.00, 100.00),
('ETIQUETA VITAMINA C', 'PRODUCTOS EN VENTA', 'PZA', 50, 10, 3.00, 6.00),
('ETIQUETAS CARBON ACTIVADO', 'PRODUCTOS EN VENTA', 'PZA', 40, 8, 3.00, 6.00),
('ETIQUETAS ACEITE OZONO', 'PRODUCTOS EN VENTA', 'PZA', 30, 6, 3.00, 6.00),
('BATA PACIENTE DESECHABLE', 'INSUMOS MEDICOS', 'PZA', 30, 6, 35.00, 70.00),
('BATA CIRUJANO NO ESTERIL', 'INSUMOS MEDICOS', 'PZA', 30, 6, 40.00, 80.00),
('BATA CIRUJANO ESTERIL', 'INSUMOS MEDICOS', 'PZA', 25, 5, 60.00, 120.00),
('PARCHE CURITA OZ', 'INSUMOS MEDICOS', 'PZA', 100, 20, 2.00, 5.00),
('LEB A B', 'INSUMOS MEDICOS', 'PZA', 30, 6, 200.00, 450.00),
('LLAVE DE 3 VIAS', 'INSUMOS MEDICOS', 'PZA', 40, 8, 8.00, 18.00),
('MARIPOSA', 'INSUMOS MEDICOS', 'PZA', 50, 10, 5.00, 12.00),
('CATÉTER', 'INSUMOS MEDICOS', 'PZA', 35, 7, 12.00, 25.00),
('AGUJA AMARILLA LARGA', 'INSUMOS MEDICOS', 'PZA', 60, 12, 3.00, 7.00),
('AGUJA AMARILLA MEDIANA', 'INSUMOS MEDICOS', 'PZA', 60, 12, 3.00, 7.00),
('AGUJA AMARILLA CORTA', 'INSUMOS MEDICOS', 'PZA', 60, 12, 3.00, 7.00),
('AGUJA GRIS LARGA', 'INSUMOS MEDICOS', 'PZA', 60, 12, 3.00, 7.00),
('AGUJA VERDE', 'INSUMOS MEDICOS', 'PZA', 60, 12, 3.00, 7.00),
('AGUJA ROJA', 'INSUMOS MEDICOS', 'PZA', 60, 12, 3.00, 7.00),
('AGUJA NARANJA LARGA', 'INSUMOS MEDICOS', 'PZA', 60, 12, 3.00, 7.00),
('AGUJA NARANJA CORTA', 'INSUMOS MEDICOS', 'PZA', 60, 12, 3.00, 7.00),
('TERMOMETRO', 'INSUMOS MEDICOS', 'PZA', 15, 3, 40.00, 80.00),
('SONDA CAL 14', 'INSUMOS MEDICOS', 'PZA', 40, 8, 7.00, 15.00),
('TIPO NARIZ', 'INSUMOS MEDICOS', 'PZA', 30, 6, 6.00, 14.00),
('TUBO VERDE', 'INSUMOS MEDICOS', 'PZA', 40, 8, 8.00, 18.00),
('TUBO AMARILLO', 'INSUMOS MEDICOS', 'PZA', 40, 8, 8.00, 18.00),
('CINTA', 'INSUMOS MEDICOS', 'PZA', 50, 10, 12.00, 25.00),
('HOJA BISTURI', 'INSUMOS MEDICOS', 'PZA', 70, 15, 4.00, 10.00),
('BISTURI', 'INSUMOS MEDICOS', 'PZA', 20, 5, 15.00, 35.00),
('MASKIN', 'INSUMOS MEDICOS', 'PZA', 60, 12, 6.00, 15.00),
('CINTA MASKIN', 'INSUMOS MEDICOS', 'PZA', 50, 10, 7.00, 16.00),
('CINTA MICROPORE', 'INSUMOS MEDICOS', 'PZA', 50, 10, 6.00, 15.00),
('PAPEL PARA EXPLORACION', 'INSUMOS MEDICOS', 'ROL', 40, 8, 20.00, 40.00),
('MASCARILLA QUIRURGICO', 'INSUMOS MEDICOS', 'PZA', 100, 20, 3.00, 7.00),
('TORUNDAS', 'INSUMOS MEDICOS', 'PZA', 80, 15, 2.00, 5.00),
('TOALLAS SANITARIAS', 'INSUMOS MEDICOS', 'PAQ', 40, 8, 25.00, 50.00),
('BOLSA PARA ESTERILIZAR', 'INSUMOS MEDICOS', 'PZA', 50, 10, 7.00, 16.00),
('GUANTE ESTERIL G', 'INSUMOS MEDICOS', 'PAR', 40, 8, 15.00, 35.00),
('GUANTE ESTERIL M', 'INSUMOS MEDICOS', 'PAR', 40, 8, 15.00, 35.00),
('GUANTE NO ESTERIL G H', 'INSUMOS MEDICOS', 'PAR', 50, 10, 10.00, 22.00),
('GUANTE NO ESTERIL M', 'INSUMOS MEDICOS', 'PAR', 50, 10, 10.00, 22.00),
('CINTA TRANSPARENTE GRANDE', 'INSUMOS MEDICOS', 'PZA', 20, 4, 15.00, 30.00),
('CINTA TRANSPARENTE CHICA', 'INSUMOS MEDICOS', 'PZA', 25, 5, 10.00, 20.00),
('GASA ESTERIL', 'INSUMOS MEDICOS', 'PZA', 70, 15, 4.00, 10.00),
('BIPOLAR', 'INSUMOS MEDICOS', 'PZA', 15, 3, 70.00, 150.00),
('MICRODYN AGUA SOLUTION ANISEP', 'INSUMOS MEDICOS', 'LT', 30, 6, 50.00, 110.00),
('DERMICIDA DESINFECCIÓN DESINF', 'INSUMOS MEDICOS', 'LT', 35, 7, 60.00, 130.00),
('MICELAR', 'INSUMOS MEDICOS', 'ML', 20, 4, 80.00, 190.00),
('SPRAY PAPANICOLAO', 'INSUMOS MEDICOS', 'PZA', 15, 3, 120.00, 280.00),
('ULTRAGEL', 'INSUMOS MEDICOS', 'PZA', 25, 5, 18.00, 40.00),
('AGUA INYECTABLE', 'INSUMOS MEDICOS', 'ML', 40, 8, 7.00, 15.00),
('SOLUCIÓN FISIOLÓGICA', 'INSUMOS MEDICOS', 'ML', 30, 6, 10.00, 22.00),
('JERINGA 2ml', 'INSUMOS MEDICOS', 'PZA', 80, 20, 2.00, 5.00),
('JERINGA 3ml', 'INSUMOS MEDICOS', 'PZA', 80, 20, 2.00, 5.00),
('JERINGA 5ml', 'INSUMOS MEDICOS', 'PZA', 75, 18, 3.00, 7.00),
('JERINGA 10ml', 'INSUMOS MEDICOS', 'PZA', 70, 15, 4.00, 9.00),
('JERINGA 20ml', 'INSUMOS MEDICOS', 'PZA', 60, 12, 5.00, 11.00),
('JERINGA 50ml', 'INSUMOS MEDICOS', 'PZA', 40, 8, 7.00, 15.00);

select * from Movimientos;

select * from Usuario;
DELETE FROM Movimientos WHERE responsable_id = 4;